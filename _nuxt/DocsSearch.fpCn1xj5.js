import{C as E,D as V,E as $t,G as J,H as He,I as At,r as L,J as ve,K as tt,d as ne,L as de,M as Pt,N as _,A as re,O as Ft,P as nt,Q as Bt,R as Se,o as ge,S as Ie,U as Lt,V as _t,W as Nt,X as Te,Y as De,F as Oe,Z as je,$ as we,a0 as zt,a1 as rt,a2 as Dt,a3 as jt,a4 as We,a5 as Z,a6 as at,a7 as qe,a as Vt,a8 as Kt,a9 as G,k as Ve,aa as $e,ab as ot,ac as it,ad as ee,b as F,c as U,n as P,t as ae,f as H,e as W,ae as Ee,af as j,w as q,ag as se,ah as Ut,ai as le,aj as Ht,ak as lt,al as Me,am as st,an as Ke,ao as me,ap as ut,aq as ct,ar as Wt,g as pe,as as qt,at as Gt,au as Yt,av as Jt,aw as Xt,ax as Qt,ay as Zt,az as en,aA as tn,aB as dt,aC as nn,u as rn,x as an,aD as on,aE as ln,aF as sn,aG as un,aH as cn}from"./entry.uwxarOcX.js";const dn={wrapper:"flex flex-col flex-1 min-h-0 divide-y divide-gray-100 dark:divide-gray-800",container:"relative flex-1 overflow-y-auto divide-y divide-gray-100 dark:divide-gray-800 scroll-py-2",input:{wrapper:"relative flex items-center",base:"w-full placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-0 text-gray-900 dark:text-white focus:ring-0 focus:outline-none",padding:"px-4",height:"h-12",size:"sm:text-sm",icon:{base:"pointer-events-none absolute start-4 text-gray-400 dark:text-gray-500",loading:"animate-spin",size:"h-4 w-4",padding:"ps-10"},closeButton:{base:"absolute end-4",padding:"pe-10"}},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",queryLabel:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},group:{wrapper:"p-2",label:"px-2 my-2 text-xs font-semibold text-gray-900 dark:text-white",container:"text-sm text-gray-700 dark:text-gray-200",command:{base:"flex justify-between select-none items-center rounded-md px-2 py-1.5 gap-2 relative",active:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactive:"",label:"flex items-center gap-1.5 min-w-0",prefix:"text-gray-400 dark:text-gray-500",suffix:"text-gray-400 dark:text-gray-500",container:"flex items-center gap-2 min-w-0",icon:{base:"flex-shrink-0 w-4 h-4",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{base:"h-4 w-4 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"3xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"},disabled:"opacity-50",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5"},active:"flex-shrink-0 text-gray-500 dark:text-gray-400",inactive:"flex-shrink-0 text-gray-500 dark:text-gray-400"},default:{icon:"i-heroicons-magnifying-glass-20-solid",loadingIcon:"i-heroicons-arrow-path-20-solid",emptyState:{icon:"i-heroicons-magnifying-glass-20-solid",label:"We couldn't find any items.",queryLabel:"We couldn't find any items with that term. Please try again."},closeButton:null,selectedIcon:"i-heroicons-check-20-solid"}},fn={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right overflow-hidden flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};/**
 * vue-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ce.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ke.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ue(e,r,t){var a,o=(a=t.initialDeps)!=null?a:[],n;return function(){var i;t.key&&t.debug!=null&&t.debug()&&(i=Date.now());var l=e(),s=l.length!==o.length||l.some(function(I,O){return o[O]!==I});if(!s)return n;o=l;var d;if(t.key&&t.debug!=null&&t.debug()&&(d=Date.now()),n=r.apply(void 0,l),t.key&&t.debug!=null&&t.debug()){var u=Math.round((Date.now()-i)*100)/100,f=Math.round((Date.now()-d)*100)/100,p=f/16,y=function(O,$){for(O=String(O);O.length<$;)O=" "+O;return O};console.info("%câ± "+y(f,5)+" /"+y(u,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",t==null?void 0:t.key)}return t==null||t.onChange==null||t.onChange(n),n}}function Ae(e,r){if(e===void 0)throw new Error("Unexpected undefined"+(r?": "+r:""));return e}var hn=function(r,t){return Math.abs(r-t)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pn=function(r){return r},vn=function(r){for(var t=Math.max(r.startIndex-r.overscan,0),a=Math.min(r.endIndex+r.overscan,r.count-1),o=[],n=t;n<=a;n++)o.push(n);return o},gn=function(r,t){var a=r.scrollElement;if(a){var o=function(l){var s=l.width,d=l.height;t({width:Math.round(s),height:Math.round(d)})};o(a.getBoundingClientRect());var n=new ResizeObserver(function(i){var l=i[0];if(l!=null&&l.borderBoxSize){var s=l.borderBoxSize[0];if(s){o({width:s.inlineSize,height:s.blockSize});return}}o(a.getBoundingClientRect())});return n.observe(a,{box:"border-box"}),function(){n.unobserve(a)}}},mn=function(r,t){var a=r.scrollElement;if(a){var o=function(){t(a[r.options.horizontal?"scrollLeft":"scrollTop"])};return o(),a.addEventListener("scroll",o,{passive:!0}),function(){a.removeEventListener("scroll",o)}}},bn=function(r,t,a){if(t!=null&&t.borderBoxSize){var o=t.borderBoxSize[0];if(o){var n=Math.round(o[a.options.horizontal?"inlineSize":"blockSize"]);return n}}return Math.round(r.getBoundingClientRect()[a.options.horizontal?"width":"height"])},yn=function(r,t,a){var o,n,i=t.adjustments,l=i===void 0?0:i,s=t.behavior,d=r+l;(o=a.scrollElement)==null||o.scrollTo==null||o.scrollTo((n={},n[a.options.horizontal?"left":"top"]=d,n.behavior=s,n))},xn=function(r){var t=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var a=null,o=function(){return a||(typeof ResizeObserver<"u"?a=new ResizeObserver(function(i){i.forEach(function(l){t._measureElement(l.target,l)})}):null)};return{disconnect:function(){var i;return(i=o())==null?void 0:i.disconnect()},observe:function(i){var l;return(l=o())==null?void 0:l.observe(i,{box:"border-box"})},unobserve:function(i){var l;return(l=o())==null?void 0:l.unobserve(i)}}}(),this.range=null,this.setOptions=function(a){Object.entries(a).forEach(function(o){var n=o[0],i=o[1];typeof i>"u"&&delete a[n]}),t.options=ke({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:pn,rangeExtractor:vn,onChange:function(){},measureElement:bn,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},a)},this.notify=function(a){t.options.onChange==null||t.options.onChange(t,a)},this.maybeNotify=ue(function(){return t.calculateRange(),[t.isScrolling,t.range?t.range.startIndex:null,t.range?t.range.endIndex:null]},function(a){t.notify(a)},{key:!1,debug:function(){return t.options.debug},initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=function(){t.unsubs.filter(Boolean).forEach(function(a){return a()}),t.unsubs=[],t.scrollElement=null},this._didMount=function(){return t.measureElementCache.forEach(t.observer.observe),function(){t.observer.disconnect(),t.cleanup()}},this._willUpdate=function(){var a=t.options.getScrollElement();t.scrollElement!==a&&(t.cleanup(),t.scrollElement=a,t._scrollToOffset(t.scrollOffset,{adjustments:void 0,behavior:void 0}),t.unsubs.push(t.options.observeElementRect(t,function(o){t.scrollRect=o,t.maybeNotify()})),t.unsubs.push(t.options.observeElementOffset(t,function(o){t.scrollAdjustments=0,t.scrollOffset!==o&&(t.isScrollingTimeoutId!==null&&(clearTimeout(t.isScrollingTimeoutId),t.isScrollingTimeoutId=null),t.isScrolling=!0,t.scrollDirection=t.scrollOffset<o?"forward":"backward",t.scrollOffset=o,t.maybeNotify(),t.isScrollingTimeoutId=setTimeout(function(){t.isScrollingTimeoutId=null,t.isScrolling=!1,t.scrollDirection=null,t.maybeNotify()},t.options.scrollingDelay))})))},this.getSize=function(){return t.scrollRect[t.options.horizontal?"width":"height"]},this.memoOptions=ue(function(){return[t.options.count,t.options.paddingStart,t.options.scrollMargin,t.options.getItemKey]},function(a,o,n,i){return t.pendingMeasuredCacheIndexes=[],{count:a,paddingStart:o,scrollMargin:n,getItemKey:i}},{key:!1}),this.getFurthestMeasurement=function(a,o){for(var n=new Map,i=new Map,l=o-1;l>=0;l--){var s=a[l];if(!n.has(s.lane)){var d=i.get(s.lane);if(d==null||s.end>d.end?i.set(s.lane,s):s.end<d.end&&n.set(s.lane,!0),n.size===t.options.lanes)break}}return i.size===t.options.lanes?Array.from(i.values()).sort(function(u,f){return u.end-f.end})[0]:void 0},this.getMeasurements=ue(function(){return[t.memoOptions(),t.itemSizeCache]},function(a,o){var n=a.count,i=a.paddingStart,l=a.scrollMargin,s=a.getItemKey,d=t.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,t.pendingMeasuredCacheIndexes):0;t.pendingMeasuredCacheIndexes=[];for(var u=t.measurementsCache.slice(0,d),f=d;f<n;f++){var p=s(f),y=t.options.lanes===1?u[f-1]:t.getFurthestMeasurement(u,f),I=y?y.end:i+l,O=o.get(p),$=typeof O=="number"?O:t.options.estimateSize(f),w=I+$,g=y?y.lane:f%t.options.lanes;u[f]={index:f,start:I,size:$,end:w,key:p,lane:g}}return t.measurementsCache=u,u},{key:!1,debug:function(){return t.options.debug}}),this.calculateRange=ue(function(){return[t.getMeasurements(),t.getSize(),t.scrollOffset]},function(a,o,n){return t.range=a.length>0&&o>0?Sn({measurements:a,outerSize:o,scrollOffset:n}):null},{key:!1,debug:function(){return t.options.debug}}),this.getIndexes=ue(function(){return[t.options.rangeExtractor,t.calculateRange(),t.options.overscan,t.options.count]},function(a,o,n,i){return o===null?[]:a(ke({},o,{overscan:n,count:i}))},{key:!1,debug:function(){return t.options.debug}}),this.indexFromElement=function(a){var o=t.options.indexAttribute,n=a.getAttribute(o);return n?parseInt(n,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(a,o){var n=t.measurementsCache[t.indexFromElement(a)];if(!n||!a.isConnected){t.measureElementCache.forEach(function(s,d){s===a&&(t.observer.unobserve(a),t.measureElementCache.delete(d))});return}var i=t.measureElementCache.get(n.key);i!==a&&(i&&t.observer.unobserve(i),t.observer.observe(a),t.measureElementCache.set(n.key,a));var l=t.options.measureElement(a,o,t);t.resizeItem(n,l)},this.resizeItem=function(a,o){var n,i=(n=t.itemSizeCache.get(a.key))!=null?n:a.size,l=o-i;l!==0&&(a.start<t.scrollOffset&&t._scrollToOffset(t.scrollOffset,{adjustments:t.scrollAdjustments+=l,behavior:void 0}),t.pendingMeasuredCacheIndexes.push(a.index),t.itemSizeCache=new Map(t.itemSizeCache.set(a.key,o)),t.notify(!1))},this.measureElement=function(a){a&&t._measureElement(a,void 0)},this.getVirtualItems=ue(function(){return[t.getIndexes(),t.getMeasurements()]},function(a,o){for(var n=[],i=0,l=a.length;i<l;i++){var s=a[i],d=o[s];n.push(d)}return n},{key:!1,debug:function(){return t.options.debug}}),this.getVirtualItemForOffset=function(a){var o=t.getMeasurements();return Ae(o[ft(0,o.length-1,function(n){return Ae(o[n]).start},a)])},this.getOffsetForAlignment=function(a,o){var n=t.getSize();o==="auto"&&(a<=t.scrollOffset?o="start":a>=t.scrollOffset+n?o="end":o="start"),o==="start"?a=a:o==="end"?a=a-n:o==="center"&&(a=a-n/2);var i=t.options.horizontal?"scrollWidth":"scrollHeight",l=t.scrollElement?"document"in t.scrollElement?t.scrollElement.document.documentElement[i]:t.scrollElement[i]:0,s=l-t.getSize();return Math.max(Math.min(s,a),0)},this.getOffsetForIndex=function(a,o){o===void 0&&(o="auto"),a=Math.max(0,Math.min(a,t.options.count-1));var n=Ae(t.getMeasurements()[a]);if(o==="auto")if(n.end>=t.scrollOffset+t.getSize()-t.options.scrollPaddingEnd)o="end";else if(n.start<=t.scrollOffset+t.options.scrollPaddingStart)o="start";else return[t.scrollOffset,o];var i=o==="end"?n.end+t.options.scrollPaddingEnd:n.start-t.options.scrollPaddingStart;return[t.getOffsetForAlignment(i,o),o]},this.isDynamicMode=function(){return t.measureElementCache.size>0},this.cancelScrollToIndex=function(){t.scrollToIndexTimeoutId!==null&&(clearTimeout(t.scrollToIndexTimeoutId),t.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(a,o){var n=o===void 0?{}:o,i=n.align,l=i===void 0?"start":i,s=n.behavior;t.cancelScrollToIndex(),s==="smooth"&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.getOffsetForAlignment(a,l),{adjustments:void 0,behavior:s})},this.scrollToIndex=function(a,o){var n=o===void 0?{}:o,i=n.align,l=i===void 0?"auto":i,s=n.behavior;a=Math.max(0,Math.min(a,t.options.count-1)),t.cancelScrollToIndex(),s==="smooth"&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var d=t.getOffsetForIndex(a,l),u=d[0],f=d[1];t._scrollToOffset(u,{adjustments:void 0,behavior:s}),s!=="smooth"&&t.isDynamicMode()&&(t.scrollToIndexTimeoutId=setTimeout(function(){t.scrollToIndexTimeoutId=null;var p=t.measureElementCache.has(t.options.getItemKey(a));if(p){var y=t.getOffsetForIndex(a,f),I=y[0];hn(I,t.scrollOffset)||t.scrollToIndex(a,{align:f,behavior:s})}else t.scrollToIndex(a,{align:f,behavior:s})}))},this.scrollBy=function(a,o){var n=o===void 0?{}:o,i=n.behavior;t.cancelScrollToIndex(),i==="smooth"&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.scrollOffset+a,{adjustments:void 0,behavior:i})},this.getTotalSize=function(){var a;return(((a=t.getMeasurements()[t.options.count-1])==null?void 0:a.end)||t.options.paddingStart)-t.options.scrollMargin+t.options.paddingEnd},this._scrollToOffset=function(a,o){var n=o.adjustments,i=o.behavior;t.options.scrollToFn(a,{behavior:i,adjustments:n},t)},this.measure=function(){t.itemSizeCache=new Map,t.notify(!1)},this.setOptions(r),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(a){t.itemSizeCache.set(a.key,a.size)}),this.maybeNotify()},ft=function(r,t,a,o){for(;r<=t;){var n=(r+t)/2|0,i=a(n);if(i<o)r=n+1;else if(i>o)t=n-1;else return n}return r>0?r-1:0};function Sn(e){for(var r=e.measurements,t=e.outerSize,a=e.scrollOffset,o=r.length-1,n=function(d){return r[d].start},i=ft(0,o,n,a),l=i;l<o&&r[l].end<a+t;)l++;return{startIndex:i,endIndex:l}}/**
 * vue-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function In(e){var r=new xn(V(e)),t=$t(r),a=r._didMount();return J(function(){return V(e).getScrollElement()},function(o){o&&r._willUpdate()},{immediate:!0}),J(function(){return V(e)},function(o){r.setOptions(Ce({},o,{onChange:function(i,l){He(t),o.onChange==null||o.onChange(i,l)}})),r._willUpdate(),He(t)},{immediate:!0}),At(a),t}function On(e){return In(E(function(){return Ce({observeElementRect:gn,observeElementOffset:mn,scrollToFn:yn},V(e))}))}function wn(e,r,t){let a=L(t==null?void 0:t.value),o=E(()=>e.value!==void 0);return[E(()=>o.value?e.value:a.value),function(n){return o.value||(a.value=n),r==null?void 0:r(n)}]}function Ge(e){return[e.screenX,e.screenY]}function En(){let e=L([-1,-1]);return{wasMoved(r){let t=Ge(r);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(r){e.value=Ge(r)}}}function Mn({container:e,accept:r,walk:t,enabled:a}){ve(()=>{let o=e.value;if(!o||a!==void 0&&!a.value)return;let n=tt(e);if(!n)return;let i=Object.assign(s=>r(s),{acceptNode:r}),l=n.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,i,!1);for(;l.nextNode();)t(l.currentNode)})}function Cn(e){throw new Error("Unexpected object: "+e)}var D=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(D||{});function Ye(e,r){let t=r.resolveItems();if(t.length<=0)return null;let a=r.resolveActiveIndex(),o=a??-1;switch(e.focus){case 0:{for(let n=0;n<t.length;++n)if(!r.resolveDisabled(t[n],n,t))return n;return a}case 1:{o===-1&&(o=t.length);for(let n=o-1;n>=0;--n)if(!r.resolveDisabled(t[n],n,t))return n;return a}case 2:{for(let n=o+1;n<t.length;++n)if(!r.resolveDisabled(t[n],n,t))return n;return a}case 3:{for(let n=t.length-1;n>=0;--n)if(!r.resolveDisabled(t[n],n,t))return n;return a}case 4:{for(let n=0;n<t.length;++n)if(r.resolveId(t[n],n,t)===e.id)return n;return a}case 5:return null;default:Cn(e)}}function ht(e={},r=null,t=[]){for(let[a,o]of Object.entries(e))vt(t,pt(r,a),o);return t}function pt(e,r){return e?e+"["+r+"]":r}function vt(e,r,t){if(Array.isArray(t))for(let[a,o]of t.entries())vt(e,pt(r,a.toString()),o);else t instanceof Date?e.push([r,t.toISOString()]):typeof t=="boolean"?e.push([r,t?"1":"0"]):typeof t=="string"?e.push([r,t]):typeof t=="number"?e.push([r,`${t}`]):t==null?e.push([r,""]):ht(t,r,e)}var kn={};function Rn(e,r){return e===r}var Tn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Tn||{}),$n=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))($n||{}),An=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(An||{});let gt=Symbol("ComboboxContext");function be(e){let r=rt(gt,null);if(r===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,be),t}return r}let mt=Symbol("VirtualContext"),Pn=ne({name:"VirtualProvider",setup(e,{slots:r}){let t=be("VirtualProvider"),a=E(()=>{let l=_(t.optionsRef);if(!l)return{start:0,end:0};let s=window.getComputedStyle(l);return{start:parseFloat(s.paddingBlockStart||s.paddingTop),end:parseFloat(s.paddingBlockEnd||s.paddingBottom)}}),o=On(E(()=>({scrollPaddingStart:a.value.start,scrollPaddingEnd:a.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return _(t.optionsRef)},overscan:12}))),n=E(()=>{var l;return(l=t.virtual.value)==null?void 0:l.options}),i=L(0);return J([n],()=>{i.value+=1}),nt(mt,t.virtual.value?o:null),()=>[Ie("div",{style:{position:"relative",width:"100%",height:`${o.value.getTotalSize()}px`},ref:l=>{if(l){if(typeof process<"u"&&kn.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&o.value.scrollToIndex(t.activeOptionIndex.value)}}},o.value.getVirtualItems().map(l=>Dt(r.default({option:t.virtual.value.options[l.index],open:t.comboboxState.value===0})[0],{key:`${i.value}-${l.index}`,"data-index":l.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":l.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${l.start}px)`,overflowAnchor:"none"}})))]}}),Fn=ne({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:r,attrs:t,emit:a}){let o=L(1),n=L(null),i=L(null),l=L(null),s=L(null),d=L({static:!1,hold:!1}),u=L([]),f=L(null),p=L(2),y=L(!1);function I(c=h=>h){let h=f.value!==null?u.value[f.value]:null,m=c(u.value.slice()),b=m.length>0&&m[0].dataRef.order.value!==null?m.sort((R,N)=>R.dataRef.order.value-N.dataRef.order.value):jt(m,R=>_(R.dataRef.domRef)),x=h?b.indexOf(h):null;return x===-1&&(x=null),{options:b,activeOptionIndex:x}}let O=E(()=>e.multiple?1:0),$=E(()=>e.nullable),[w,g]=wn(E(()=>e.modelValue),c=>a("update:modelValue",c),E(()=>e.defaultValue)),M=E(()=>w.value===void 0?de(O.value,{1:[],0:void 0}):w.value),k=null,B=null;function T(c){return de(O.value,{0(){return g==null?void 0:g(c)},1:()=>{let h=re(v.value.value).slice(),m=re(c),b=h.findIndex(x=>v.compare(m,re(x)));return b===-1?h.push(m):h.splice(b,1),g==null?void 0:g(h)}})}let S=E(()=>{});J([S],([c],[h])=>{if(v.virtual.value&&c&&h&&f.value!==null){let m=c.indexOf(h[f.value]);m!==-1?f.value=m:f.value=null}});let v={comboboxState:o,value:M,mode:O,compare(c,h){if(typeof e.by=="string"){let m=e.by;return(c==null?void 0:c[m])===(h==null?void 0:h[m])}return e.by===null?Rn(c,h):e.by(c,h)},calculateIndex(c){return v.virtual.value?e.by===null?v.virtual.value.options.indexOf(c):v.virtual.value.options.findIndex(h=>v.compare(h,c)):u.value.findIndex(h=>v.compare(h.dataRef.value,c))},defaultValue:E(()=>e.defaultValue),nullable:$,immediate:E(()=>!1),virtual:E(()=>null),inputRef:i,labelRef:n,buttonRef:l,optionsRef:s,disabled:E(()=>e.disabled),options:u,change(c){g(c)},activeOptionIndex:E(()=>{if(y.value&&f.value===null&&(v.virtual.value?v.virtual.value.options.length>0:u.value.length>0)){if(v.virtual.value){let h=v.virtual.value.options.findIndex(m=>{var b;return!((b=v.virtual.value)!=null&&b.disabled(m))});if(h!==-1)return h}let c=u.value.findIndex(h=>!h.dataRef.disabled);if(c!==-1)return c}return f.value}),activationTrigger:p,optionsPropsRef:d,closeCombobox(){y.value=!1,!e.disabled&&o.value!==1&&(o.value=1,f.value=null)},openCombobox(){if(y.value=!0,!e.disabled&&o.value!==0){if(v.value.value){let c=v.calculateIndex(v.value.value);c!==-1&&(f.value=c)}o.value=0}},setActivationTrigger(c){p.value=c},goToOption(c,h,m){y.value=!1,k!==null&&cancelAnimationFrame(k),k=requestAnimationFrame(()=>{if(e.disabled||s.value&&!d.value.static&&o.value===1)return;if(v.virtual.value){f.value=c===D.Specific?h:Ye({focus:c},{resolveItems:()=>v.virtual.value.options,resolveActiveIndex:()=>{var R,N;return(N=(R=v.activeOptionIndex.value)!=null?R:v.virtual.value.options.findIndex(X=>{var z;return!((z=v.virtual.value)!=null&&z.disabled(X))}))!=null?N:null},resolveDisabled:R=>v.virtual.value.disabled(R),resolveId(){throw new Error("Function not implemented.")}}),p.value=m??2;return}let b=I();if(b.activeOptionIndex===null){let R=b.options.findIndex(N=>!N.dataRef.disabled);R!==-1&&(b.activeOptionIndex=R)}let x=c===D.Specific?h:Ye({focus:c},{resolveItems:()=>b.options,resolveActiveIndex:()=>b.activeOptionIndex,resolveId:R=>R.id,resolveDisabled:R=>R.dataRef.disabled});f.value=x,p.value=m??2,u.value=b.options})},selectOption(c){let h=u.value.find(b=>b.id===c);if(!h)return;let{dataRef:m}=h;T(m.value)},selectActiveOption(){if(v.activeOptionIndex.value!==null){if(v.virtual.value)T(v.virtual.value.options[v.activeOptionIndex.value]);else{let{dataRef:c}=u.value[v.activeOptionIndex.value];T(c.value)}v.goToOption(D.Specific,v.activeOptionIndex.value)}},registerOption(c,h){let m=Pt({id:c,dataRef:h});if(v.virtual.value){u.value.push(m);return}B&&cancelAnimationFrame(B);let b=I(x=>(x.push(m),x));f.value===null&&v.isSelected(h.value.value)&&(b.activeOptionIndex=b.options.indexOf(m)),u.value=b.options,f.value=b.activeOptionIndex,p.value=2,b.options.some(x=>!_(x.dataRef.domRef))&&(B=requestAnimationFrame(()=>{let x=I();u.value=x.options,f.value=x.activeOptionIndex}))},unregisterOption(c,h){if(k!==null&&cancelAnimationFrame(k),h&&(y.value=!0),v.virtual.value){u.value=u.value.filter(b=>b.id!==c);return}let m=I(b=>{let x=b.findIndex(R=>R.id===c);return x!==-1&&b.splice(x,1),b});u.value=m.options,f.value=m.activeOptionIndex,p.value=2},isSelected(c){return de(O.value,{0:()=>v.compare(re(v.value.value),re(c)),1:()=>re(v.value.value).some(h=>v.compare(re(h),re(c)))})},isActive(c){return f.value===v.calculateIndex(c)}};Ft([i,l,s],()=>v.closeCombobox(),E(()=>o.value===0)),nt(gt,v),Bt(E(()=>de(o.value,{0:Se.Open,1:Se.Closed})));let A=E(()=>{var c;return(c=_(i))==null?void 0:c.closest("form")});return ge(()=>{J([A],()=>{if(!A.value||e.defaultValue===void 0)return;function c(){v.change(e.defaultValue)}return A.value.addEventListener("reset",c),()=>{var h;(h=A.value)==null||h.removeEventListener("reset",c)}},{immediate:!0})}),()=>{var c,h,m;let{name:b,disabled:x,form:R,...N}=e,X={open:o.value===0,disabled:x,activeIndex:v.activeOptionIndex.value,activeOption:v.activeOptionIndex.value===null?null:v.virtual.value?v.virtual.value.options[(c=v.activeOptionIndex.value)!=null?c:0]:(m=(h=v.options.value[v.activeOptionIndex.value])==null?void 0:h.dataRef.value.value)!=null?m:null,value:M.value};return Ie(Oe,[...b!=null&&M.value!=null?ht({[b]:M.value}).map(([z,Q])=>Ie(Lt,_t({features:Nt.Hidden,key:z,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:R,name:z,value:Q}))):[],Te({theirProps:{...t,...De(N,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:X,slots:r,attrs:t,name:"Combobox"})])}}}),Bn=ne({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${je()}`}},emits:{change:e=>!0},setup(e,{emit:r,attrs:t,slots:a,expose:o}){let n=be("ComboboxInput"),i=E(()=>tt(_(n.inputRef))),l={value:!1};o({el:n.inputRef,$el:n.inputRef});function s(){n.change(null);let g=_(n.optionsRef);g&&(g.scrollTop=0),n.goToOption(D.Nothing)}let d=E(()=>{var g;let M=n.value.value;return _(n.inputRef)?typeof e.displayValue<"u"&&M!==void 0?(g=e.displayValue(M))!=null?g:"":typeof M=="string"?M:"":""});ge(()=>{J([d,n.comboboxState,i],([g,M],[k,B])=>{if(l.value)return;let T=_(n.inputRef);T&&((B===0&&M===1||g!==k)&&(T.value=g),requestAnimationFrame(()=>{var S;if(l.value||!T||((S=i.value)==null?void 0:S.activeElement)!==T)return;let{selectionStart:v,selectionEnd:A}=T;Math.abs((A??0)-(v??0))===0&&v===0&&T.setSelectionRange(T.value.length,T.value.length)}))},{immediate:!0}),J([n.comboboxState],([g],[M])=>{if(g===0&&M===1){if(l.value)return;let k=_(n.inputRef);if(!k)return;let B=k.value,{selectionStart:T,selectionEnd:S,selectionDirection:v}=k;k.value="",k.value=B,v!==null?k.setSelectionRange(T,S,v):k.setSelectionRange(T,S)}})});let u=L(!1);function f(){u.value=!0}function p(){We().nextFrame(()=>{u.value=!1})}function y(g){switch(l.value=!0,g.key){case Z.Enter:if(l.value=!1,n.comboboxState.value!==0||u.value)return;if(g.preventDefault(),g.stopPropagation(),n.activeOptionIndex.value===null){n.closeCombobox();return}n.selectActiveOption(),n.mode.value===0&&n.closeCombobox();break;case Z.ArrowDown:return l.value=!1,g.preventDefault(),g.stopPropagation(),de(n.comboboxState.value,{0:()=>n.goToOption(D.Next),1:()=>n.openCombobox()});case Z.ArrowUp:return l.value=!1,g.preventDefault(),g.stopPropagation(),de(n.comboboxState.value,{0:()=>n.goToOption(D.Previous),1:()=>{n.openCombobox(),at(()=>{n.value.value||n.goToOption(D.Last)})}});case Z.Home:if(g.shiftKey)break;return l.value=!1,g.preventDefault(),g.stopPropagation(),n.goToOption(D.First);case Z.PageUp:return l.value=!1,g.preventDefault(),g.stopPropagation(),n.goToOption(D.First);case Z.End:if(g.shiftKey)break;return l.value=!1,g.preventDefault(),g.stopPropagation(),n.goToOption(D.Last);case Z.PageDown:return l.value=!1,g.preventDefault(),g.stopPropagation(),n.goToOption(D.Last);case Z.Escape:if(l.value=!1,n.comboboxState.value!==0)return;g.preventDefault(),n.optionsRef.value&&!n.optionsPropsRef.value.static&&g.stopPropagation(),n.nullable.value&&n.mode.value===0&&n.value.value===null&&s(),n.closeCombobox();break;case Z.Tab:if(l.value=!1,n.comboboxState.value!==0)return;n.mode.value===0&&n.activationTrigger.value!==1&&n.selectActiveOption(),n.closeCombobox();break}}function I(g){r("change",g),n.nullable.value&&n.mode.value===0&&g.target.value===""&&s(),n.openCombobox()}function O(g){var M,k,B;let T=(M=g.relatedTarget)!=null?M:qe.find(S=>S!==g.currentTarget);if(l.value=!1,!((k=_(n.optionsRef))!=null&&k.contains(T))&&!((B=_(n.buttonRef))!=null&&B.contains(T))&&n.comboboxState.value===0)return g.preventDefault(),n.mode.value===0&&(n.nullable.value&&n.value.value===null?s():n.activationTrigger.value!==1&&n.selectActiveOption()),n.closeCombobox()}function $(g){var M,k,B;let T=(M=g.relatedTarget)!=null?M:qe.find(S=>S!==g.currentTarget);(k=_(n.buttonRef))!=null&&k.contains(T)||(B=_(n.optionsRef))!=null&&B.contains(T)||n.disabled.value||n.immediate.value&&n.comboboxState.value!==0&&(n.openCombobox(),We().nextFrame(()=>{n.setActivationTrigger(1)}))}let w=E(()=>{var g,M,k,B;return(B=(k=(M=e.defaultValue)!=null?M:n.defaultValue.value!==void 0?(g=e.displayValue)==null?void 0:g.call(e,n.defaultValue.value):null)!=null?k:n.defaultValue.value)!=null?B:""});return()=>{var g,M,k,B,T,S,v;let A={open:n.comboboxState.value===0},{id:c,displayValue:h,onChange:m,...b}=e,x={"aria-controls":(g=n.optionsRef.value)==null?void 0:g.id,"aria-expanded":n.comboboxState.value===0,"aria-activedescendant":n.activeOptionIndex.value===null?void 0:n.virtual.value?(M=n.options.value.find(R=>!n.virtual.value.disabled(R.dataRef.value)&&n.compare(R.dataRef.value,n.virtual.value.options[n.activeOptionIndex.value])))==null?void 0:M.id:(k=n.options.value[n.activeOptionIndex.value])==null?void 0:k.id,"aria-labelledby":(S=(B=_(n.labelRef))==null?void 0:B.id)!=null?S:(T=_(n.buttonRef))==null?void 0:T.id,"aria-autocomplete":"list",id:c,onCompositionstart:f,onCompositionend:p,onKeydown:y,onInput:I,onFocus:$,onBlur:O,role:"combobox",type:(v=t.type)!=null?v:"text",tabIndex:0,ref:n.inputRef,defaultValue:w.value,disabled:n.disabled.value===!0?!0:void 0};return Te({ourProps:x,theirProps:b,slot:A,attrs:t,slots:a,features:we.RenderStrategy|we.Static,name:"ComboboxInput"})}}}),Ln=ne({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:r,slots:t,expose:a}){let o=be("ComboboxOptions"),n=`headlessui-combobox-options-${je()}`;a({el:o.optionsRef,$el:o.optionsRef}),ve(()=>{o.optionsPropsRef.value.static=e.static}),ve(()=>{o.optionsPropsRef.value.hold=e.hold});let i=zt(),l=E(()=>i!==null?(i.value&Se.Open)===Se.Open:o.comboboxState.value===0);return Mn({container:E(()=>_(o.optionsRef)),enabled:E(()=>o.comboboxState.value===0),accept(s){return s.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:s.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(s){s.setAttribute("role","none")}}),()=>{var s,d,u;let f={open:o.comboboxState.value===0},p={"aria-labelledby":(u=(s=_(o.labelRef))==null?void 0:s.id)!=null?u:(d=_(o.buttonRef))==null?void 0:d.id,id:n,ref:o.optionsRef,role:"listbox","aria-multiselectable":o.mode.value===1?!0:void 0},y=De(e,["hold"]);return Te({ourProps:p,theirProps:y,slot:f,attrs:r,slots:o.virtual.value&&o.comboboxState.value===0?{...t,default:()=>[Ie(Pn,{},t.default)]}:t,features:we.RenderStrategy|we.Static,visible:l.value,name:"ComboboxOptions"})}}}),_n=ne({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:r,attrs:t,expose:a}){let o=be("ComboboxOption"),n=`headlessui-combobox-option-${je()}`,i=L(null);a({el:i,$el:i});let l=E(()=>{var w;return o.virtual.value?o.activeOptionIndex.value===o.calculateIndex(e.value):o.activeOptionIndex.value===null?!1:((w=o.options.value[o.activeOptionIndex.value])==null?void 0:w.id)===n}),s=E(()=>o.isSelected(e.value)),d=rt(mt,null),u=E(()=>({disabled:e.disabled,value:e.value,domRef:i,order:E(()=>e.order)}));ge(()=>o.registerOption(n,u)),Vt(()=>o.unregisterOption(n,l.value)),ve(()=>{let w=_(i);w&&(d==null||d.value.measureElement(w))}),ve(()=>{o.comboboxState.value===0&&l.value&&(o.virtual.value||o.activationTrigger.value!==0&&at(()=>{var w,g;return(g=(w=_(i))==null?void 0:w.scrollIntoView)==null?void 0:g.call(w,{block:"nearest"})}))});function f(w){var g;if(e.disabled||(g=o.virtual.value)!=null&&g.disabled(e.value))return w.preventDefault();o.selectOption(n),Kt()||requestAnimationFrame(()=>{var M;return(M=_(o.inputRef))==null?void 0:M.focus({preventScroll:!0})}),o.mode.value===0&&requestAnimationFrame(()=>o.closeCombobox())}function p(){var w;if(e.disabled||(w=o.virtual.value)!=null&&w.disabled(e.value))return o.goToOption(D.Nothing);let g=o.calculateIndex(e.value);o.goToOption(D.Specific,g)}let y=En();function I(w){y.update(w)}function O(w){var g;if(!y.wasMoved(w)||e.disabled||(g=o.virtual.value)!=null&&g.disabled(e.value)||l.value)return;let M=o.calculateIndex(e.value);o.goToOption(D.Specific,M,0)}function $(w){var g;y.wasMoved(w)&&(e.disabled||(g=o.virtual.value)!=null&&g.disabled(e.value)||l.value&&(o.optionsPropsRef.value.hold||o.goToOption(D.Nothing)))}return()=>{let{disabled:w}=e,g={active:l.value,selected:s.value,disabled:w},M={id:n,ref:i,role:"option",tabIndex:w===!0?void 0:-1,"aria-disabled":w===!0?!0:void 0,"aria-selected":s.value,disabled:void 0,onClick:f,onFocus:p,onPointerenter:I,onMouseenter:I,onPointermove:O,onMousemove:O,onPointerleave:$,onMouseleave:$},k=De(e,["order","value"]);return Te({ourProps:M,theirProps:k,slot:g,attrs:t,slots:r,name:"ComboboxOption"})}}});function te(e){return Array.isArray?Array.isArray(e):xt(e)==="[object Array]"}const Nn=1/0;function zn(e){if(typeof e=="string")return e;let r=e+"";return r=="0"&&1/e==-Nn?"-0":r}function Dn(e){return e==null?"":zn(e)}function Y(e){return typeof e=="string"}function bt(e){return typeof e=="number"}function jn(e){return e===!0||e===!1||Vn(e)&&xt(e)=="[object Boolean]"}function yt(e){return typeof e=="object"}function Vn(e){return yt(e)&&e!==null}function K(e){return e!=null}function Pe(e){return!e.trim().length}function xt(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Kn="Incorrect 'index' type",Un=e=>`Invalid value for key ${e}`,Hn=e=>`Pattern length exceeds max of ${e}.`,Wn=e=>`Missing ${e} property in key`,qn=e=>`Property 'weight' in key '${e}' must be a positive integer`,Je=Object.prototype.hasOwnProperty;class Gn{constructor(r){this._keys=[],this._keyMap={};let t=0;r.forEach(a=>{let o=St(a);t+=o.weight,this._keys.push(o),this._keyMap[o.id]=o,t+=o.weight}),this._keys.forEach(a=>{a.weight/=t})}get(r){return this._keyMap[r]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function St(e){let r=null,t=null,a=null,o=1,n=null;if(Y(e)||te(e))a=e,r=Xe(e),t=Fe(e);else{if(!Je.call(e,"name"))throw new Error(Wn("name"));const i=e.name;if(a=i,Je.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(qn(i));r=Xe(i),t=Fe(i),n=e.getFn}return{path:r,id:t,weight:o,src:a,getFn:n}}function Xe(e){return te(e)?e:e.split(".")}function Fe(e){return te(e)?e.join("."):e}function Yn(e,r){let t=[],a=!1;const o=(n,i,l)=>{if(K(n))if(!i[l])t.push(n);else{let s=i[l];const d=n[s];if(!K(d))return;if(l===i.length-1&&(Y(d)||bt(d)||jn(d)))t.push(Dn(d));else if(te(d)){a=!0;for(let u=0,f=d.length;u<f;u+=1)o(d[u],i,l+1)}else i.length&&o(d,i,l+1)}};return o(e,Y(r)?r.split("."):r,0),a?t:t[0]}const Jn={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Xn={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,r)=>e.score===r.score?e.idx<r.idx?-1:1:e.score<r.score?-1:1},Qn={location:0,threshold:.6,distance:100},Zn={useExtendedSearch:!1,getFn:Yn,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var C={...Xn,...Jn,...Qn,...Zn};const er=/[^ ]+/g;function tr(e=1,r=3){const t=new Map,a=Math.pow(10,r);return{get(o){const n=o.match(er).length;if(t.has(n))return t.get(n);const i=1/Math.pow(n,.5*e),l=parseFloat(Math.round(i*a)/a);return t.set(n,l),l},clear(){t.clear()}}}class Ue{constructor({getFn:r=C.getFn,fieldNormWeight:t=C.fieldNormWeight}={}){this.norm=tr(t,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}setSources(r=[]){this.docs=r}setIndexRecords(r=[]){this.records=r}setKeys(r=[]){this.keys=r,this._keysMap={},r.forEach((t,a)=>{this._keysMap[t.id]=a})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Y(this.docs[0])?this.docs.forEach((r,t)=>{this._addString(r,t)}):this.docs.forEach((r,t)=>{this._addObject(r,t)}),this.norm.clear())}add(r){const t=this.size();Y(r)?this._addString(r,t):this._addObject(r,t)}removeAt(r){this.records.splice(r,1);for(let t=r,a=this.size();t<a;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(r,t){return r[this._keysMap[t]]}size(){return this.records.length}_addString(r,t){if(!K(r)||Pe(r))return;let a={v:r,i:t,n:this.norm.get(r)};this.records.push(a)}_addObject(r,t){let a={i:t,$:{}};this.keys.forEach((o,n)=>{let i=o.getFn?o.getFn(r):this.getFn(r,o.path);if(K(i)){if(te(i)){let l=[];const s=[{nestedArrIndex:-1,value:i}];for(;s.length;){const{nestedArrIndex:d,value:u}=s.pop();if(K(u))if(Y(u)&&!Pe(u)){let f={v:u,i:d,n:this.norm.get(u)};l.push(f)}else te(u)&&u.forEach((f,p)=>{s.push({nestedArrIndex:p,value:f})})}a.$[n]=l}else if(Y(i)&&!Pe(i)){let l={v:i,n:this.norm.get(i)};a.$[n]=l}}}),this.records.push(a)}toJSON(){return{keys:this.keys,records:this.records}}}function It(e,r,{getFn:t=C.getFn,fieldNormWeight:a=C.fieldNormWeight}={}){const o=new Ue({getFn:t,fieldNormWeight:a});return o.setKeys(e.map(St)),o.setSources(r),o.create(),o}function nr(e,{getFn:r=C.getFn,fieldNormWeight:t=C.fieldNormWeight}={}){const{keys:a,records:o}=e,n=new Ue({getFn:r,fieldNormWeight:t});return n.setKeys(a),n.setIndexRecords(o),n}function xe(e,{errors:r=0,currentLocation:t=0,expectedLocation:a=0,distance:o=C.distance,ignoreLocation:n=C.ignoreLocation}={}){const i=r/e.length;if(n)return i;const l=Math.abs(a-t);return o?i+l/o:l?1:i}function rr(e=[],r=C.minMatchCharLength){let t=[],a=-1,o=-1,n=0;for(let i=e.length;n<i;n+=1){let l=e[n];l&&a===-1?a=n:!l&&a!==-1&&(o=n-1,o-a+1>=r&&t.push([a,o]),a=-1)}return e[n-1]&&n-a>=r&&t.push([a,n-1]),t}const ie=32;function ar(e,r,t,{location:a=C.location,distance:o=C.distance,threshold:n=C.threshold,findAllMatches:i=C.findAllMatches,minMatchCharLength:l=C.minMatchCharLength,includeMatches:s=C.includeMatches,ignoreLocation:d=C.ignoreLocation}={}){if(r.length>ie)throw new Error(Hn(ie));const u=r.length,f=e.length,p=Math.max(0,Math.min(a,f));let y=n,I=p;const O=l>1||s,$=O?Array(f):[];let w;for(;(w=e.indexOf(r,I))>-1;){let S=xe(r,{currentLocation:w,expectedLocation:p,distance:o,ignoreLocation:d});if(y=Math.min(S,y),I=w+u,O){let v=0;for(;v<u;)$[w+v]=1,v+=1}}I=-1;let g=[],M=1,k=u+f;const B=1<<u-1;for(let S=0;S<u;S+=1){let v=0,A=k;for(;v<A;)xe(r,{errors:S,currentLocation:p+A,expectedLocation:p,distance:o,ignoreLocation:d})<=y?v=A:k=A,A=Math.floor((k-v)/2+v);k=A;let c=Math.max(1,p-A+1),h=i?f:Math.min(p+A,f)+u,m=Array(h+2);m[h+1]=(1<<S)-1;for(let x=h;x>=c;x-=1){let R=x-1,N=t[e.charAt(R)];if(O&&($[R]=+!!N),m[x]=(m[x+1]<<1|1)&N,S&&(m[x]|=(g[x+1]|g[x])<<1|1|g[x+1]),m[x]&B&&(M=xe(r,{errors:S,currentLocation:R,expectedLocation:p,distance:o,ignoreLocation:d}),M<=y)){if(y=M,I=R,I<=p)break;c=Math.max(1,2*p-I)}}if(xe(r,{errors:S+1,currentLocation:p,expectedLocation:p,distance:o,ignoreLocation:d})>y)break;g=m}const T={isMatch:I>=0,score:Math.max(.001,M)};if(O){const S=rr($,l);S.length?s&&(T.indices=S):T.isMatch=!1}return T}function or(e){let r={};for(let t=0,a=e.length;t<a;t+=1){const o=e.charAt(t);r[o]=(r[o]||0)|1<<a-t-1}return r}class Ot{constructor(r,{location:t=C.location,threshold:a=C.threshold,distance:o=C.distance,includeMatches:n=C.includeMatches,findAllMatches:i=C.findAllMatches,minMatchCharLength:l=C.minMatchCharLength,isCaseSensitive:s=C.isCaseSensitive,ignoreLocation:d=C.ignoreLocation}={}){if(this.options={location:t,threshold:a,distance:o,includeMatches:n,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:s,ignoreLocation:d},this.pattern=s?r:r.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(p,y)=>{this.chunks.push({pattern:p,alphabet:or(p),startIndex:y})},f=this.pattern.length;if(f>ie){let p=0;const y=f%ie,I=f-y;for(;p<I;)u(this.pattern.substr(p,ie),p),p+=ie;if(y){const O=f-ie;u(this.pattern.substr(O),O)}}else u(this.pattern,0)}searchIn(r){const{isCaseSensitive:t,includeMatches:a}=this.options;if(t||(r=r.toLowerCase()),this.pattern===r){let I={isMatch:!0,score:0};return a&&(I.indices=[[0,r.length-1]]),I}const{location:o,distance:n,threshold:i,findAllMatches:l,minMatchCharLength:s,ignoreLocation:d}=this.options;let u=[],f=0,p=!1;this.chunks.forEach(({pattern:I,alphabet:O,startIndex:$})=>{const{isMatch:w,score:g,indices:M}=ar(r,I,O,{location:o+$,distance:n,threshold:i,findAllMatches:l,minMatchCharLength:s,includeMatches:a,ignoreLocation:d});w&&(p=!0),f+=g,w&&M&&(u=[...u,...M])});let y={isMatch:p,score:p?f/this.chunks.length:1};return p&&a&&(y.indices=u),y}}class oe{constructor(r){this.pattern=r}static isMultiMatch(r){return Qe(r,this.multiRegex)}static isSingleMatch(r){return Qe(r,this.singleRegex)}search(){}}function Qe(e,r){const t=e.match(r);return t?t[1]:null}class ir extends oe{constructor(r){super(r)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(r){const t=r===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class lr extends oe{constructor(r){super(r)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(r){const a=r.indexOf(this.pattern)===-1;return{isMatch:a,score:a?0:1,indices:[0,r.length-1]}}}class sr extends oe{constructor(r){super(r)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(r){const t=r.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class ur extends oe{constructor(r){super(r)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(r){const t=!r.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,r.length-1]}}}class cr extends oe{constructor(r){super(r)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(r){const t=r.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[r.length-this.pattern.length,r.length-1]}}}class dr extends oe{constructor(r){super(r)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(r){const t=!r.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,r.length-1]}}}class wt extends oe{constructor(r,{location:t=C.location,threshold:a=C.threshold,distance:o=C.distance,includeMatches:n=C.includeMatches,findAllMatches:i=C.findAllMatches,minMatchCharLength:l=C.minMatchCharLength,isCaseSensitive:s=C.isCaseSensitive,ignoreLocation:d=C.ignoreLocation}={}){super(r),this._bitapSearch=new Ot(r,{location:t,threshold:a,distance:o,includeMatches:n,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:s,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(r){return this._bitapSearch.searchIn(r)}}class Et extends oe{constructor(r){super(r)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(r){let t=0,a;const o=[],n=this.pattern.length;for(;(a=r.indexOf(this.pattern,t))>-1;)t=a+n,o.push([a,t-1]);const i=!!o.length;return{isMatch:i,score:i?0:1,indices:o}}}const Be=[ir,Et,sr,ur,dr,cr,lr,wt],Ze=Be.length,fr=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,hr="|";function pr(e,r={}){return e.split(hr).map(t=>{let a=t.trim().split(fr).filter(n=>n&&!!n.trim()),o=[];for(let n=0,i=a.length;n<i;n+=1){const l=a[n];let s=!1,d=-1;for(;!s&&++d<Ze;){const u=Be[d];let f=u.isMultiMatch(l);f&&(o.push(new u(f,r)),s=!0)}if(!s)for(d=-1;++d<Ze;){const u=Be[d];let f=u.isSingleMatch(l);if(f){o.push(new u(f,r));break}}}return o})}const vr=new Set([wt.type,Et.type]);class gr{constructor(r,{isCaseSensitive:t=C.isCaseSensitive,includeMatches:a=C.includeMatches,minMatchCharLength:o=C.minMatchCharLength,ignoreLocation:n=C.ignoreLocation,findAllMatches:i=C.findAllMatches,location:l=C.location,threshold:s=C.threshold,distance:d=C.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:a,minMatchCharLength:o,findAllMatches:i,ignoreLocation:n,location:l,threshold:s,distance:d},this.pattern=t?r:r.toLowerCase(),this.query=pr(this.pattern,this.options)}static condition(r,t){return t.useExtendedSearch}searchIn(r){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:a,isCaseSensitive:o}=this.options;r=o?r:r.toLowerCase();let n=0,i=[],l=0;for(let s=0,d=t.length;s<d;s+=1){const u=t[s];i.length=0,n=0;for(let f=0,p=u.length;f<p;f+=1){const y=u[f],{isMatch:I,indices:O,score:$}=y.search(r);if(I){if(n+=1,l+=$,a){const w=y.constructor.type;vr.has(w)?i=[...i,...O]:i.push(O)}}else{l=0,n=0,i.length=0;break}}if(n){let f={isMatch:!0,score:l/n};return a&&(f.indices=i),f}}return{isMatch:!1,score:1}}}const Le=[];function mr(...e){Le.push(...e)}function _e(e,r){for(let t=0,a=Le.length;t<a;t+=1){let o=Le[t];if(o.condition(e,r))return new o(e,r)}return new Ot(e,r)}const Re={AND:"$and",OR:"$or"},Ne={PATH:"$path",PATTERN:"$val"},ze=e=>!!(e[Re.AND]||e[Re.OR]),br=e=>!!e[Ne.PATH],yr=e=>!te(e)&&yt(e)&&!ze(e),et=e=>({[Re.AND]:Object.keys(e).map(r=>({[r]:e[r]}))});function Mt(e,r,{auto:t=!0}={}){const a=o=>{let n=Object.keys(o);const i=br(o);if(!i&&n.length>1&&!ze(o))return a(et(o));if(yr(o)){const s=i?o[Ne.PATH]:n[0],d=i?o[Ne.PATTERN]:o[s];if(!Y(d))throw new Error(Un(s));const u={keyId:Fe(s),pattern:d};return t&&(u.searcher=_e(d,r)),u}let l={children:[],operator:n[0]};return n.forEach(s=>{const d=o[s];te(d)&&d.forEach(u=>{l.children.push(a(u))})}),l};return ze(e)||(e=et(e)),a(e)}function xr(e,{ignoreFieldNorm:r=C.ignoreFieldNorm}){e.forEach(t=>{let a=1;t.matches.forEach(({key:o,norm:n,score:i})=>{const l=o?o.weight:null;a*=Math.pow(i===0&&l?Number.EPSILON:i,(l||1)*(r?1:n))}),t.score=a})}function Sr(e,r){const t=e.matches;r.matches=[],K(t)&&t.forEach(a=>{if(!K(a.indices)||!a.indices.length)return;const{indices:o,value:n}=a;let i={indices:o,value:n};a.key&&(i.key=a.key.src),a.idx>-1&&(i.refIndex=a.idx),r.matches.push(i)})}function Ir(e,r){r.score=e.score}function Or(e,r,{includeMatches:t=C.includeMatches,includeScore:a=C.includeScore}={}){const o=[];return t&&o.push(Sr),a&&o.push(Ir),e.map(n=>{const{idx:i}=n,l={item:r[i],refIndex:i};return o.length&&o.forEach(s=>{s(n,l)}),l})}class fe{constructor(r,t={},a){this.options={...C,...t},this.options.useExtendedSearch,this._keyStore=new Gn(this.options.keys),this.setCollection(r,a)}setCollection(r,t){if(this._docs=r,t&&!(t instanceof Ue))throw new Error(Kn);this._myIndex=t||It(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(r){K(r)&&(this._docs.push(r),this._myIndex.add(r))}remove(r=()=>!1){const t=[];for(let a=0,o=this._docs.length;a<o;a+=1){const n=this._docs[a];r(n,a)&&(this.removeAt(a),a-=1,o-=1,t.push(n))}return t}removeAt(r){this._docs.splice(r,1),this._myIndex.removeAt(r)}getIndex(){return this._myIndex}search(r,{limit:t=-1}={}){const{includeMatches:a,includeScore:o,shouldSort:n,sortFn:i,ignoreFieldNorm:l}=this.options;let s=Y(r)?Y(this._docs[0])?this._searchStringList(r):this._searchObjectList(r):this._searchLogical(r);return xr(s,{ignoreFieldNorm:l}),n&&s.sort(i),bt(t)&&t>-1&&(s=s.slice(0,t)),Or(s,this._docs,{includeMatches:a,includeScore:o})}_searchStringList(r){const t=_e(r,this.options),{records:a}=this._myIndex,o=[];return a.forEach(({v:n,i,n:l})=>{if(!K(n))return;const{isMatch:s,score:d,indices:u}=t.searchIn(n);s&&o.push({item:n,idx:i,matches:[{score:d,value:n,norm:l,indices:u}]})}),o}_searchLogical(r){const t=Mt(r,this.options),a=(l,s,d)=>{if(!l.children){const{keyId:f,searcher:p}=l,y=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(s,f),searcher:p});return y&&y.length?[{idx:d,item:s,matches:y}]:[]}const u=[];for(let f=0,p=l.children.length;f<p;f+=1){const y=l.children[f],I=a(y,s,d);if(I.length)u.push(...I);else if(l.operator===Re.AND)return[]}return u},o=this._myIndex.records,n={},i=[];return o.forEach(({$:l,i:s})=>{if(K(l)){let d=a(t,l,s);d.length&&(n[s]||(n[s]={idx:s,item:l,matches:[]},i.push(n[s])),d.forEach(({matches:u})=>{n[s].matches.push(...u)}))}}),i}_searchObjectList(r){const t=_e(r,this.options),{keys:a,records:o}=this._myIndex,n=[];return o.forEach(({$:i,i:l})=>{if(!K(i))return;let s=[];a.forEach((d,u)=>{s.push(...this._findMatches({key:d,value:i[u],searcher:t}))}),s.length&&n.push({idx:l,item:i,matches:s})}),n}_findMatches({key:r,value:t,searcher:a}){if(!K(t))return[];let o=[];if(te(t))t.forEach(({v:n,i,n:l})=>{if(!K(n))return;const{isMatch:s,score:d,indices:u}=a.searchIn(n);s&&o.push({score:d,key:r,value:n,idx:i,norm:l,indices:u})});else{const{v:n,n:i}=t,{isMatch:l,score:s,indices:d}=a.searchIn(n);l&&o.push({score:s,key:r,value:n,norm:i,indices:d})}return o}}fe.version="6.6.2";fe.createIndex=It;fe.parseIndex=nr;fe.config=C;fe.parseQuery=Mt;mr(gr);function wr(e,r,t){const a=()=>{var i,l;return new fe((i=G(r))!=null?i:[],(l=G(t))==null?void 0:l.fuseOptions)},o=L(a());J(()=>{var i;return(i=G(t))==null?void 0:i.fuseOptions},()=>{o.value=a()},{deep:!0}),J(()=>G(r),i=>{o.value.setCollection(i)},{deep:!0});const n=E(()=>{const i=G(t);if(i!=null&&i.matchAllWhenSearchEmpty&&!G(e))return G(r).map((s,d)=>({item:s,refIndex:d}));const l=i==null?void 0:i.resultLimit;return o.value.search(G(e),l?{limit:l}:void 0)});return{fuse:o,results:n}}const Er=ne({components:{HComboboxOption:_n,UIcon:$e,UAvatar:ot,UKbd:it},props:{group:{type:Object,required:!0},query:{type:String,default:""},groupAttribute:{type:String,required:!0},commandAttribute:{type:String,required:!0},selectedIcon:{type:String,required:!0},ui:{type:Object,required:!0}},setup(e){const r=E(()=>{const a=e.group[e.groupAttribute];return typeof a=="function"?a(e.query):a});function t(a,{indices:o,value:n}){if(a===n)return"";let i="",l=0;o.forEach(d=>{const u=d[1]+1,f=u-d[0]>=e.query.length;i+=[n.substring(l,d[0]),f&&"<mark>",n.substring(d[0],u),f&&"</mark>"].filter(Boolean).join(""),l=u}),i+=n.substring(l);const s=i.indexOf("<mark>");return s>60&&(i=`...${i.substring(s-60)}`),i}return{label:r,highlight:t}}}),Mr=["aria-label"],Cr=["innerHTML"];function kr(e,r,t,a,o,n){const i=$e,l=ot,s=it,d=ee("HComboboxOption");return F(),U("div",{class:P(e.ui.group.wrapper),role:"option"},[e.label?(F(),U("h2",{key:0,class:P(e.ui.group.label)},ae(e.label),3)):H("",!0),W("div",{class:P(e.ui.group.container),role:"listbox","aria-label":e.group[e.groupAttribute]},[(F(!0),U(Oe,null,Ee(e.group.commands,(u,f)=>(F(),j(d,{key:`${e.group.key}-${f}`,value:u,disabled:u.disabled,as:"template"},{default:q(({active:p,selected:y})=>[W("div",{class:P([e.ui.group.command.base,p?e.ui.group.command.active:e.ui.group.command.inactive,u.disabled?"cursor-not-allowed":"cursor-pointer"])},[W("div",{class:P(e.ui.group.command.container)},[le(e.$slots,`${e.group.key}-icon`,{group:e.group,command:u,active:p,selected:y},()=>[u.icon?(F(),j(i,{key:0,name:u.icon,class:P([e.ui.group.command.icon.base,p?e.ui.group.command.icon.active:e.ui.group.command.icon.inactive,u.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):u.avatar?(F(),j(l,se({key:1},{size:e.ui.group.command.avatar.size,...u.avatar},{class:e.ui.group.command.avatar.base,"aria-hidden":"true"}),null,16,["class"])):u.chip?(F(),U("span",{key:2,class:P(e.ui.group.command.chip.base),style:Ut({background:`#${u.chip}`})},null,6)):H("",!0)]),W("div",{class:P([e.ui.group.command.label,u.disabled&&e.ui.group.command.disabled])},[le(e.$slots,`${e.group.key}-command`,{group:e.group,command:u,active:p,selected:y},()=>{var I,O;return[u.prefix?(F(),U("span",{key:0,class:P(["flex-shrink-0",u.prefixClass||e.ui.group.command.prefix])},ae(u.prefix),3)):H("",!0),W("span",{class:P(["truncate",{"flex-none":u.suffix||((I=u.matches)==null?void 0:I.length)}])},ae(u[e.commandAttribute]),3),(O=u.matches)!=null&&O.length?(F(),U("span",{key:1,class:P(["truncate",u.suffixClass||e.ui.group.command.suffix]),innerHTML:e.highlight(u[e.commandAttribute],u.matches[0])},null,10,Cr)):u.suffix?(F(),U("span",{key:2,class:P(["truncate",u.suffixClass||e.ui.group.command.suffix])},ae(u.suffix),3)):H("",!0)]})],2)],2),y?(F(),j(i,{key:0,name:e.selectedIcon,class:P(e.ui.group.command.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])):p&&(e.group.active||e.$slots[`${e.group.key}-active`])?le(e.$slots,`${e.group.key}-active`,{key:1,group:e.group,command:u,active:p,selected:y},()=>[e.group.active?(F(),U("span",{key:0,class:P(e.ui.group.active)},ae(e.group.active),3)):H("",!0)]):le(e.$slots,`${e.group.key}-inactive`,{key:2,group:e.group,command:u,active:p,selected:y},()=>{var I;return[(I=u.shortcuts)!=null&&I.length?(F(),U("span",{key:0,class:P(e.ui.group.command.shortcuts)},[(F(!0),U(Oe,null,Ee(u.shortcuts,O=>(F(),j(s,{key:O},{default:q(()=>[Ht(ae(O),1)]),_:2},1024))),128))],2)):!u.disabled&&e.group.inactive?(F(),U("span",{key:1,class:P(e.ui.group.inactive)},ae(e.group.inactive),3)):H("",!0)]})],2)]),_:2},1032,["value","disabled"]))),128))],10,Mr)],2)}const Rr=Ve(Er,[["render",kr]]),ce=lt(Me.ui.strategy,Me.ui.commandPalette,dn),Tr=ne({components:{HCombobox:Fn,HComboboxInput:Bn,HComboboxOptions:Ln,UIcon:$e,UButton:st,CommandPaletteGroup:Rr},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:null},by:{type:String,default:"id"},multiple:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},icon:{type:String,default:()=>ce.default.icon},loadingIcon:{type:String,default:()=>ce.default.loadingIcon},selectedIcon:{type:String,default:()=>ce.default.selectedIcon},closeButton:{type:Object,default:()=>ce.default.closeButton},emptyState:{type:Object,default:()=>ce.default.emptyState},placeholder:{type:String,default:"Search..."},groupAttribute:{type:String,default:"label"},commandAttribute:{type:String,default:"label"},autoselect:{type:Boolean,default:!0},autoclear:{type:Boolean,default:!0},debounce:{type:Number,default:200},fuse:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:r,expose:t}){const{ui:a,attrs:o}=Ke("commandPalette",me(e,"ui"),ce,me(e,"class")),n=L(""),i=L(),l=L(null),s=L(!1);ge(()=>{e.autoselect&&k()}),ge(()=>{setTimeout(()=>{var A;const S=(A=i.value)==null?void 0:A.$.provides;if(!S)return;const v=Object.getOwnPropertySymbols(S);l.value=v.length&&S[v[0]]},200)});const d=E(()=>ut({},e.fuse,{fuseOptions:{keys:[e.commandAttribute]},resultLimit:12,matchAllWhenSearchEmpty:!0})),u=E(()=>{var v;const S=[];for(const A of e.groups)A.search||S.push(...((v=A.commands)==null?void 0:v.map(c=>({...c,group:A.key})))||[]);return S}),f=L({}),{results:p}=wr(n,u,d);function y(S,v){if(S)return S.filter&&typeof S.filter=="function"&&(v=S.filter(n.value,v)),{...S,commands:v.slice(0,d.value.resultLimit)}}const I=E(()=>{if(!p.value)return[];const S=p.value.reduce((c,h)=>{var x;const{item:m,...b}=h;return m.group&&(c[x=m.group]||(c[x]=[]),c[m.group].push({...m,...b})),c},{}),v=Object.entries(S).map(([c,h])=>{const m=e.groups.find(b=>b.key===c);return m?y(m,h):null}).filter(Boolean),A=e.groups.filter(c=>{var h;return!!c.search&&((h=f.value[c.key])==null?void 0:h.length)}).map(c=>{const h=f.value[c.key]||[];return y(c,[...h])});return[...v,...A]}),O=ct(async()=>{const S=e.groups.filter(v=>!!v.search);S.length&&(s.value=!0,await Promise.all(S.map(async v=>{f.value[v.key]=await v.search(n.value)})),s.value=!1,M())},e.debounce);J(n,()=>{O(),M()});const $=E(()=>(e.loading||s.value)&&e.loadingIcon?e.loadingIcon:e.icon),w=E(()=>Wt(a.value.input.icon.base,a.value.input.icon.size,(e.loading||s.value)&&e.loadingIcon&&a.value.input.icon.loading)),g=E(()=>({...a.value.default.emptyState,...e.emptyState}));function M(){setTimeout(()=>{var S;(S=i.value)==null||S.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))},0)}function k(){setTimeout(()=>{var S;(S=i.value)==null||S.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))},0)}function B(S){r("update:modelValue",S,{query:n.value}),e.autoclear&&setTimeout(()=>{n.value=""},0)}function T(){n.value?n.value="":r("close")}return t({query:n,updateQuery:S=>{n.value=S},comboboxApi:l,results:p}),{ui:a,attrs:o,groups:I,comboboxInput:i,query:n,iconName:$,iconClass:w,emptyState:g,onSelect:B,onClear:T}}});function $r(e,r,t,a,o,n){const i=$e,l=ee("HComboboxInput"),s=st,d=ee("CommandPaletteGroup"),u=ee("HComboboxOptions"),f=ee("HCombobox");return F(),j(f,se({by:e.by,"model-value":e.modelValue,multiple:e.multiple,nullable:e.nullable,class:e.ui.wrapper},e.attrs,{as:"div","onUpdate:modelValue":e.onSelect}),{default:q(()=>[Gt(W("div",{class:P(e.ui.input.wrapper)},[e.iconName?(F(),j(i,{key:0,name:e.iconName,class:P(e.iconClass),"aria-hidden":"true"},null,8,["name","class"])):H("",!0),pe(l,{ref:"comboboxInput",value:e.query,class:P([e.ui.input.base,e.ui.input.size,e.ui.input.height,e.ui.input.padding,e.icon&&e.ui.input.icon.padding,e.closeButton&&e.ui.input.closeButton.padding]),placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off",onChange:r[0]||(r[0]=p=>e.query=p.target.value)},null,8,["value","class","placeholder","aria-label"]),e.closeButton?(F(),j(s,se({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{class:e.ui.input.closeButton.base,onClick:e.onClear}),null,16,["class","onClick"])):H("",!0)],2),[[qt,e.searchable]]),e.groups.length?(F(),j(u,{key:0,static:"",hold:"",as:"div","aria-label":"Commands",class:P(e.ui.container)},{default:q(()=>[(F(!0),U(Oe,null,Ee(e.groups,p=>(F(),j(d,{key:p.key,query:e.query,group:p,"group-attribute":e.groupAttribute,"command-attribute":e.commandAttribute,"selected-icon":e.selectedIcon,ui:e.ui},Xt({_:2},[Ee(e.$slots,(y,I)=>({name:I,fn:q(O=>[le(e.$slots,I,Jt(Yt(O)))])}))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"]))),128))]),_:3},8,["class"])):e.emptyState?le(e.$slots,"empty-state",{key:1},()=>[W("div",{class:P(e.ui.emptyState.wrapper)},[e.emptyState.icon?(F(),j(i,{key:0,name:e.emptyState.icon,class:P(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):H("",!0),W("p",{class:P(e.query?e.ui.emptyState.queryLabel:e.ui.emptyState.label)},ae(e.query?e.emptyState.queryLabel:e.emptyState.label),3)],2)]):H("",!0)]),_:3},16,["by","model-value","multiple","nullable","class","onUpdate:modelValue"])}const Ar=Ve(Tr,[["render",$r]]),Pr=lt(Me.ui.strategy,Me.ui.modal,fn),Fr=ne({components:{HDialog:Qt,HDialogPanel:Zt,TransitionRoot:en,TransitionChild:tn},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:r}){const{ui:t,attrs:a}=Ke("modal",me(e,"ui"),Pr,me(e,"class")),o=E({get(){return e.modelValue},set(l){r("update:modelValue",l)}}),n=E(()=>e.transition?{...t.value.transition}:{});function i(l){o.value=l,r("close")}return{ui:t,attrs:a,isOpen:o,transitionClass:n,close:i}}});function Br(e,r,t,a,o,n){const i=ee("TransitionChild"),l=ee("HDialogPanel"),s=ee("HDialog"),d=ee("TransitionRoot");return F(),j(d,{appear:e.appear,show:e.isOpen,as:"template"},{default:q(()=>[pe(s,se({class:e.ui.wrapper},e.attrs,{onClose:r[0]||(r[0]=u=>!e.preventClose&&e.close(u))}),{default:q(()=>[e.overlay?(F(),j(i,se({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:q(()=>[W("div",{class:P([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):H("",!0),W("div",{class:P(e.ui.inner)},[W("div",{class:P([e.ui.container,!e.fullscreen&&e.ui.padding])},[pe(i,se({as:"template",appear:e.appear},e.transitionClass),{default:q(()=>[pe(l,{class:P([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:q(()=>[le(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class"])]),_:3},8,["appear","show"])}const Lr=Ve(Fr,[["render",Br]]),Ct=e=>{if(!e.children)return e._path;for(const r of(e==null?void 0:e.children)||[]){const t=Ct(r);if(t)return t}},kt=(e,r)=>{for(const t of r){if(t._path===e&&!t._id)return t.children;if(t.children){const a=kt(e,t.children);if(a)return a}}},Rt=(e,r)=>{for(const t of r){if(t._path===e)return t;if(t.children){const a=Rt(e,t.children);if(a)return a}}},_r=(e,r,t)=>{let a;const o=(n,i)=>{for(const l of i)if(!(n!=="/"&&l._path==="/")){if(n!=null&&n.startsWith(l._path)&&l[r]&&(a=l[r]),l._path===n)return;l.children&&o(n,l.children)}};return o(e,t),a},Nr=()=>({navBottomLink:Ct,navDirFromPath:kt,navPageFromPath:Rt,navKeyFromPath:_r});function zr(...e){return E(()=>e.every(r=>G(r)))}function Dr(e){return E(()=>!G(e))}const jr=/^[^-]+.*-.*[^-]+$/,Vr=/^[^_]+.*_.*[^_]+$/,Kr=(e,r={})=>{const{macOS:t,usingInput:a}=dt();let o=[];const n=L([]),i=()=>{n.value.splice(0,n.value.length)},l=ct(i,r.chainDelay??800),s=d=>{if(!d.key)return;const u=/^[a-z]{1}$/i.test(d.key);let f;if(n.value.push(d.key),n.value.length>=2){f=n.value.slice(-2).join("-");for(const p of o.filter(y=>y.chained))if(p.key===f){p.condition.value&&(d.preventDefault(),p.handler()),i();return}}for(const p of o.filter(y=>!y.chained))if(d.key.toLowerCase()===p.key&&d.metaKey===p.metaKey&&d.ctrlKey===p.ctrlKey&&!(u&&d.shiftKey!==p.shiftKey)){p.condition.value&&(d.preventDefault(),p.handler()),i();return}l()};o=Object.entries(e).map(([d,u])=>{var I,O;if(!u)return null;let f;d.includes("-")&&d!=="-"&&!((I=d.match(jr))!=null&&I.length)&&console.trace(`[Shortcut] Invalid key: "${d}"`),d.includes("_")&&d!=="_"&&!((O=d.match(Vr))!=null&&O.length)&&console.trace(`[Shortcut] Invalid key: "${d}"`);const p=d.includes("-")&&d!=="-";if(p)f={key:d.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const $=d.toLowerCase().split("_").map(w=>w);f={key:$.filter(w=>!["meta","ctrl","shift","alt"].includes(w)).join("_"),metaKey:$.includes("meta"),ctrlKey:$.includes("ctrl"),shiftKey:$.includes("shift"),altKey:$.includes("alt")}}if(f.chained=p,!t.value&&f.metaKey&&!f.ctrlKey&&(f.metaKey=!1,f.ctrlKey=!0),typeof u=="function"?f.handler=u:typeof u=="object"&&(f={...f,handler:u.handler}),!f.handler)return console.trace("[Shortcut] Invalid value"),null;const y=[];return u.usingInput?typeof u.usingInput=="string"&&y.push(E(()=>a.value===u.usingInput)):y.push(Dr(a)),f.condition=zr(...y,...u.whenever||[]),f}).filter(Boolean),nn("keydown",s)},Hr=ne({__name:"DocsSearch",props:{files:{},navigation:{},links:{},groups:{},fuse:{},hideColorMode:{type:Boolean},ui:{}},setup(e,{expose:r}){const t={padding:"p-0 sm:p-4",rounded:"rounded-none sm:rounded-lg",width:"sm:max-w-3xl",height:"h-screen sm:h-[28rem]",commandPalette:{input:{height:"h-[--header-height] sm:h-12",icon:{size:"h-5 w-5",padding:"ps-11"}},group:{command:{prefix:"!text-foreground after:content-['_>']"}},container:"scroll-py-10",closeButton:{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"ghost",size:"xs"}},fileIcon:{name:"i-heroicons-document-text"}},a=e,o=rn(),{navKeyFromPath:n}=Nr(),i=an(),{usingInput:l}=dt(),{isDocsSearchModalOpen:s}=on(),d=ln({mobile:640}),u=sn(),{ui:f,attrs:p}=Ke("docs.search",me(a,"ui"),t,void 0,!0),y=d.smaller("mobile"),I=L();function O(c){var h;return c.icon?c.icon:(h=c.navigation)!=null&&h.icon?c.navigation.icon:(a.navigation&&(c.icon=n(c._path,"icon",a.navigation)),c.icon||f.value.fileIcon.name)}const $=E(()=>ut({},a.fuse,{fuseOptions:{ignoreLocation:!0,includeMatches:!0,threshold:.1,keys:[{name:"title",weight:5},{name:"label",weight:5},{name:"suffix",weight:3},"children.children.value","children.children.children.value","children.children.children.children.value","children.children.children.children.children.value"]},resultLimit:12}));function w(c,h){return c?h:h==null?void 0:h.filter(m=>!m.child)}const g=E(()=>{var h,m;let c=[];return(h=a.navigation)!=null&&h.length&&(a.navigation.some(b=>{var x;return!!((x=b.children)!=null&&x.length)})?c=(a.navigation||[]).map(b=>({key:b._path,label:b.title,commands:(a.files||[]).filter(x=>{var R;return(R=x._path)==null?void 0:R.startsWith(b._path)}).flatMap(x=>k(x,b)),filter:w})):c=[{key:"docs",commands:(a.files||[]).flatMap(b=>k(b)),filter:w}]),[((m=a.links)==null?void 0:m.length)&&{key:"links",label:"Links",commands:a.links.flatMap(b=>[b.to&&{id:o.resolve(b.to).fullPath,...b,icon:b.icon||f.value.fileIcon.name},...(b.children||[]).map(x=>({id:o.resolve(x.to).fullPath,prefix:b.label,suffix:x.description,...x,icon:x.icon||b.icon||f.value.fileIcon.name}))]).filter(Boolean)},...c,...a.groups||[],!(u!=null&&u.forced)&&!a.hideColorMode&&{key:"theme",label:"Theme",commands:[{id:"theme-light",label:"Light",icon:i.ui.icons.light,disabled:u.preference==="light",click:()=>{u.preference="light"}},{id:"theme-dark",label:"Dark",icon:i.ui.icons.dark,disabled:u.preference==="dark",click:()=>{u.preference="dark"}}]}].filter(Boolean)}),M=E(()=>s.value||!l.value);function k(c,h){var b,x,R,N,X;const m=(b=un((h==null?void 0:h.children)||[],c))==null?void 0:b.map(({title:z})=>z).join(" > ");return[{id:c._id,label:((x=c.navigation)==null?void 0:x.title)||c.title,title:((R=c.navigation)==null?void 0:R.title)||c.title,prefix:m,to:c._path,suffix:c.description,children:T(S(((N=c==null?void 0:c.body)==null?void 0:N.children)||[])),icon:O(c)},...Object.entries(v(((X=c==null?void 0:c.body)==null?void 0:X.children)||[])).map(([z,{title:Q,children:ye}])=>{var he;if(Q)return{id:`${c._path}${z}`,label:Q,prefix:(m?`${m} > `:"")+`${((he=c.navigation)==null?void 0:he.title)||c.title}`,to:`${c._path}${z}`,children:T(ye),icon:O(c),child:!0}})].filter(Boolean)}function B(c){return c==null?void 0:c.map(h=>{var m,b;if(["code","code-inline","em","a","strong"].includes(h.tag))return{type:"text",value:((b=(m=h.children)==null?void 0:m.find(x=>x.type==="text"))==null?void 0:b.value)||""};if(h.type==="text")return h}).filter(Boolean)}function T(c){return c.map(h=>{var m,b;if(!["pre","style","video"].includes(h.tag))return["p","h1","h2","h3","h4","h5","h6","li","td","th"].includes(h.tag)&&((m=h.children)!=null&&m.length)?(h.children=B(h.children),h.children=(b=h.children)==null?void 0:b.reduce((x,R)=>(x.length&&x[x.length-1].type==="text"?x[x.length-1].value+=R.value||"":x.push(R),x),[]),h):(h.children&&(h.children=T(h.children)),h)}).filter(Boolean)}function S(c){const h=[];for(const m of c){if(["h1","h2","h3"].includes(m.tag))break;h.push(m)}return h}function v(c){var x,R,N,X;const h={};let m="",b="";for(const z of c)["h1","h2","h3"].includes(z.tag)&&(b=((N=(R=(x=z.children)==null?void 0:x.map(Q=>{var ye,he;if(Q.type==="text")return Q.value;if(["code","code-inline","em","a","strong"].includes(Q.tag))return(he=(ye=Q.children)==null?void 0:ye.find(Tt=>Tt.type==="text"))==null?void 0:he.value}))==null?void 0:R.filter(Boolean))==null?void 0:N.join(" "))||"",b&&((X=z.props)!=null&&X.id)&&(m=`#${z.props.id}`)),h[m]?h[m].children.push(z):h[m]={children:[z],title:b};return h}function A(c){s.value=!1,c.click?c.click():c.to?c.target==="_blank"||c.to.startsWith("http")?window.open(c.to,c.target||"_blank"):o.push(c.to):c.href&&window.open(c.href,"_blank")}return Kr({meta_k:{usingInput:!0,whenever:[M],handler:()=>{s.value=!s.value}},escape:{usingInput:!0,whenever:[s],handler:()=>{s.value=!1}}}),r({commandPaletteRef:I}),(c,h)=>{const m=Ar,b=Lr;return F(),j(b,se({modelValue:V(s),"onUpdate:modelValue":h[1]||(h[1]=x=>cn(s)?s.value=x:null),overlay:!V(y),transition:!V(y),ui:V(f)},V(p)),{default:q(()=>[pe(m,{ref_key:"commandPaletteRef",ref:I,groups:V(g),ui:V(f).commandPalette,"close-button":V(f).commandPalette.closeButton,fuse:V($),"onUpdate:modelValue":A,onClose:h[0]||(h[0]=x=>s.value=!1)},null,8,["groups","ui","close-button","fuse"])]),_:1},16,["modelValue","overlay","transition","ui"])}}});export{Hr as default};
